<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heart Care</title>

    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>

</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // Destructure Globals
        const { useState, useEffect, useRef } = React;
        const { motion } = window.Motion; 

        function Navbar() {
            return (
                <nav className="nav">
                    <div className="logo">
                        <img src="./img/logo.jpg" className="customclass-logo"/>
                    </div>
                    <ul>
                        <li>Home</li>
                        <li>Services</li>
                        <li><a href="./Form.html">Medics</a></li>
                        <li>About</li>
                        <li className="btn">Login</li>
                    </ul>
                </nav>
            );
        }

        function Banner() {
            const vantaRef = useRef(null);
            const [vantaEffect, setVantaEffect] = useState(null);

            useEffect(() => {
                if (!vantaEffect && window.VANTA) {
                    setVantaEffect(
                        window.VANTA.NET({
                            el: vantaRef.current,
                            mouseControls: true,
                            touchControls: true,
                            gyroControls: false,
                            color: 0x3b82f6,
                            backgroundColor: 0x1f0a12,
                            points: 12.0,
                            maxDistance: 22.0,
                            spacing: 18.0,
                        })
                    );
                }
                return () => {
                    if (vantaEffect) vantaEffect.destroy();
                };
            }, [vantaEffect]);

            return (
                <section className="banner" ref={vantaRef}>
                    <div className="banner-text">
                        <h1>TAKE CARE OF YOUR HEART</h1>
                        <p>AI-powered early disease detection with real-time heart insights.</p>
                        <button>Get in Touch</button>
                    </div>
                </section>
            );
        }

        function Challenges() {
            const spotlightRef = useRef(null);

            const handleMouseMove = (e) => {
                const rect = e.currentTarget.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;

                if (spotlightRef.current) {
                    spotlightRef.current.style.left = x + "px";
                    spotlightRef.current.style.top = y + "px";
                }
            };

            const handleMouseEnter = () => {
                if (spotlightRef.current) spotlightRef.current.style.display = "block";
            };

            const handleMouseLeave = () => {
                if (spotlightRef.current) spotlightRef.current.style.display = "none";
            };

            return (
                <section
                    className="challenges spotlight-wrapper"
                    onMouseMove={handleMouseMove}
                    onMouseEnter={handleMouseEnter}
                    onMouseLeave={handleMouseLeave}
                >
                    <div className="spotlight" ref={spotlightRef}></div>

                    <div className="container"> 
                        <h2 className="roadmap-title">Current Challenges</h2>  
                        <div className="card-wrapper">
                            {[1, 2, 3].map((item) => (
                                <div className="card" key={item}>
                                    <span className="top"></span>
                                    <span className="right"></span>
                                    <span className="bottom"></span>
                                    <span className="left"></span>
                                    <h3>Challenge {item}</h3>
                                    <p>Description detailing the specific heart health challenge goes here.</p>
                                </div>
                            ))}
                        </div>
                        <div className="card-wrapper carda">
                            {[4, 5].map((item) => (
                                <div className="card" key={item}>
                                    <span className="top"></span>
                                    <span className="right"></span>
                                    <span className="bottom"></span>
                                    <span className="left"></span>
                                    <h3>Challenge {item}</h3>
                                    <p>Description detailing the specific heart health challenge goes here.</p>
                                </div>
                            ))}
                        </div>
                    </div>
                </section>
            );
        }

        function HeartCrisisSection() {
            const [todayDeaths, setTodayDeaths] = useState(0);

            // WHO ≈ 19.8M deaths/year
            const deathsPerSecond = 19800000 / 365 / 24 / 60 / 60;

            useEffect(() => {
                const interval = setInterval(() => {
                    setTodayDeaths(d => d + deathsPerSecond);
                }, 1000);
                return () => clearInterval(interval);
            }, []);

            return (
                <section className="crisis-section">
                     <h2 className="roadmap-title">The Growing Heart Disease Crisis</h2>   

                    {/* Live Counter */}
                    <div className="live-counter">
                        <span>{Math.floor(todayDeaths + 10000).toLocaleString()}</span>
                        <p>Estimated deaths today worldwide</p>
                    </div>

                    {/* Circular Stats */}
                    <div className="ring-stats">
                        <Ring value={32} label="Preventable Cases" color="#3b82f6" />
                        <Ring value={80} label="Lack Early Detection" color="#f87171" />
                        <Ring value={90} label="Lifestyle Risk Factors" color="#fbbf24" />
                    </div>

                    {/* Detection Gap Bar */}
                    <div className="gap-bar">
                        <h3>Detection Gap</h3>
                        <div className="bar">
                            <div className="fill"></div>
                        </div>
                        <p>Most high-risk patients remain undetected until critical stages</p>
                    </div>
                </section>
            );
        }

        /* Ring Component */
        function Ring({ value, label, color }) {
            return (
                <div className="ring">
                    <svg width="140" height="140">
                        <circle
                            cx="70"
                            cy="70"
                            r="60"
                            stroke="rgba(255,255,255,0.1)"
                            strokeWidth="10"
                            fill="none"
                        />
                        <circle
                            cx="70"
                            cy="70"
                            r="60"
                            stroke={color}
                            strokeWidth="10"
                            fill="none"
                            strokeDasharray={377}
                            strokeDashoffset={377 - (377 * value) / 100}
                            strokeLinecap="round"
                        />
                    </svg>
                    <div className="ring-text">
                        <strong>{value}%</strong>
                        <span>{label}</span>
                    </div>
                </div>
            );
        }

        function SolutionSection() {
            const steps = [
                { title: "Simple Data Input", text: "Users enter lifestyle and medical factors through an intuitive interface." },
                { title: "AI Risk Analysis", text: "Advanced AI models analyze patterns and predict heart-attack risk in real time." },
                { title: "Personalized Recommendation", text: "Actionable prevention strategies tailored to individual risk profiles." }
            ];

            const [activeStep, setActiveStep] = useState(0);

            useEffect(() => {
                const timer = setInterval(() => {
                    setActiveStep(s => (s + 1) % steps.length);
                }, 3500);
                return () => clearInterval(timer);
            }, []);

            return (
                <section className="solution-section">
                    <div className="solution-left">
                        <h2 className="roadmap-title">Our Solution</h2>  
                        <h3>{steps[activeStep].title}</h3>
                        <p>{steps[activeStep].text}</p>
                        <div className="step-dots">
                            {steps.map((_, i) => (
                                <span key={i} className={i === activeStep ? "active" : ""}></span>
                            ))}
                        </div>
                    </div>
                    <HeartVisualization stage={activeStep} />
                </section>
            );
        }

        function HeartVisualization({ stage }) {
            // Placeholder for image logic. Ensure banner2.png exists in your folder.
            return (
                <div className={`heart-container stage-${stage}`}>
                    <div className="heart-wrapper">
                        {/* Using a placeholder color block if image fails. 
                          Replace 'src' with valid path 
                        */}
                         <img 
                            src="./img/banner2.png" 
                            className="wid-img" 
                            alt="Heart Visual"
                            style={{ maxWidth: '100%', animation: 'beat 1.8s infinite' }}
                            onError={(e) => {e.target.style.display='none'}}
                         />
                    </div>
                </div>
            );
        }

        function ProductRoadmap() {
            const steps = [
                { num: "Q1", year: "2025", title: "Data Collection", desc: "Gathering and cleaning heart-health datasets.", position: "peak" },
                { num: "Q2", year: "2025", title: "Feature Eng.", desc: "Selecting key biomarkers for risk analysis.", position: "trough", customClass: "abc-x" },
                { num: "Q3", year: "2025", title: "Model Training", desc: "Training ESLM & IRES models on high-performance GPUs.", position: "peak" },
                { num: "Q4", year: "2025", title: "System Integration", desc: "Connecting AI backend to the Next.js frontend.", position: "trough" },
                { num: "Q1", year: "2026", title: "Deployment", desc: "Public launch and scaling infrastructure.", position: "peak" }
            ];

            return (
                <section className="roadmap-section">
                <div className="roadmap-header">
                    <h2 className="roadmap-title">Product Roadmap</h2>
                    <p>Our journey to revolutionizing cardiac health.</p>
                </div>

                <div className="roadmap-container">
                    {/* The Glowing Wave SVG Background */}
                    <div className="wave-bg">
                    <svg viewBox="0 0 1200 250" preserveAspectRatio="none">
                        <defs>
                        <linearGradient id="waveGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" stopColor="#db2777" /> {/* Pink */}
                            <stop offset="50%" stopColor="#7c3aed" /> {/* Purple */}
                            <stop offset="100%" stopColor="#ea580c" /> {/* Orange */}
                        </linearGradient>
                        <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
                            <feGaussianBlur stdDeviation="5" result="coloredBlur" />
                            <feMerge>
                            <feMergeNode in="coloredBlur" />
                            <feMergeNode in="SourceGraphic" />
                            </feMerge>
                        </filter>
                        </defs>
                        {/* The Wave Path */}
                        <path 
                        d="M0,150 C200,50 400,250 600,150 S1000,50 1200,150" 
                        fill="none" 
                        stroke="url(#waveGradient)" 
                        strokeWidth="6"
                        filter="url(#glow)"
                        />
                    </svg>
                    </div>

                    {/* The Timeline Items */}
                    <div className="roadmap-items">
                    {steps.map((step, i) => (
                        <div key={i} className={`rm-item ${step.position} ${step.customClass || ""}`}>
                        <div className="rm-content">
                            <span className="rm-date">{step.num} <strong>{step.year}</strong></span>
                            <h3>{step.title}</h3>
                            <p>{step.desc}</p>
                        </div>
                        
                        {/* Vertical Connector Line */}
                        <div className="rm-connector"></div>
                        
                        {/* Glowing Dot on the Wave */}
                        <div className="rm-dot">
                            <div className="dot-inner"></div>
                        </div>
                        </div>
                    ))}
                    </div>
                </div>
                </section>
            );
        }

        function AIInsightsSection() {
            const { motion } = window.Motion; // Using the global Framer Motion variable

            // Combined data with specific theme colors matching your reference image
            const insightsData = [
                {
                id: "01",
                title: "Pattern Recognition",
                text: "AI identifies complex relationships between lifestyle factors, medical history, and cardiac risk that human analysis might miss.",
                color: "#f97316", // Orange
                align: "left"
                },
                {
                id: "02",
                title: "Predictive Modeling",
                text: "Machine learning algorithms forecast future heart-attack likelihood with high accuracy based on individual health profiles.",
                color: "#a855f7", // Purple
                align: "right"
                },
                {
                id: "03",
                title: "Hidden Risk Factors",
                text: "Deep learning discovers subtle patterns and correlations in user data that indicate elevated cardiac risk.",
                color: "#cbd5e1", // Silver/Blue
                align: "left"
                },
                {
                id: "04",
                title: "Personalization at Scale",
                text: "AI delivers customized recommendations for millions of users simultaneously, tailored to their unique circumstances.",
                color: "#14b8a6", // Teal
                align: "right"
                },
                {
                id: "05",
                title: "Continuous Improvement",
                text: "Models automatically improve as they process more data, becoming increasingly accurate and valuable over time.",
                color: "#ef4444", // Red (HeartGuard Brand)
                align: "left"
                }
            ];

            return (
                <section className="pill-section">
                <div className="pill-container">
                    <div className="header-center">
                        <h2 className="roadmap-title">Power of AI in Cardiac Health</h2> 
                        <div className="ai-title-bar center-bar"></div>
                    </div>

                    <div className="pill-stack">
                    {insightsData.map((item, index) => (
                        <motion.div 
                        key={index}
                        className={`pill-card ${item.align === "right" ? "reverse" : ""}`}
                        style={{ "--theme-color": item.color }}
                        initial={{ opacity: 0, x: item.align === "left" ? -100 : 100 }}
                        whileInView={{ opacity: 1, x: 0 }}
                        transition={{ duration: 0.6, delay: index * 0.1 }}
                        viewport={{ once: true }}
                        whileHover={{ scale: 1.02, boxShadow: `0 0 20px ${item.color}40` }}
                        >
                        {/* Number Circle */}
                        <div className="pill-number">
                            <span>{item.id}</span>
                        </div>

                        {/* Text Content */}
                        <div className="pill-content">
                            <h3 style={{ color: item.color }}>{item.title}</h3>
                            <p>{item.text}</p>
                        </div>
                        </motion.div>
                    ))}
                    </div>
                </div>
                </section>
            );
        }

       function Footer() {
        // 1. Initialize Refs and State for Vanta
            const footerRef = React.useRef(null);
            const [vantaEffect, setVantaEffect] = React.useState(null);

            // 2. Trigger the Effect
            React.useEffect(() => {
                if (!vantaEffect && window.VANTA) {
                    setVantaEffect(
                        window.VANTA.NET({
                            el: footerRef.current,
                            mouseControls: true,
                            touchControls: true,
                            gyroControls: false,
                            minHeight: 200.00,
                            minWidth: 200.00,
                            scale: 1.00,
                            scaleMobile: 1.00,
                            color: 0x3b82f6,       // Same blue as Banner
                            backgroundColor: 0x1f0a12, // Same dark bg as Banner
                            points: 12.0,
                            maxDistance: 22.0,
                            spacing: 18.0,
                        })
                    );
                }
                // Cleanup on unmount
                return () => {
                    if (vantaEffect) vantaEffect.destroy();
                };
            }, [vantaEffect]);

            return (
                <footer className="footer-section" ref={footerRef}>
                    
                    <div className="footer-content">
                        <div className="footer-links">
                            <div className="brand-block">
                                <img src="./img/logo.jpg" class="customclass-logo"/>  
                            </div>
                            <div className="link-row">
                                <span><strong>Medics</strong> Dr. Sarah Connor, Dr. Miles Bennett</span>
                                <span><strong>Clinics</strong> New York, London, Tokyo, Berlin</span>
                                <span><strong>Support</strong> Privacy Policy | Terms of Service</span>
                            </div>
                        </div>
                        
                        <div className="footer-copy">
                            ©2025 HeartGuard AI
                        </div>
                    </div>
                </footer>
            );
        }


        function App() {
            return (
                <React.Fragment>
                    <Navbar />
                    <Banner />
                    <Challenges />
                    <HeartCrisisSection /> 
                    <SolutionSection />
                    <ProductRoadmap />
                    <AIInsightsSection />
                    <Footer />
                </React.Fragment>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById("root"));
        root.render(<App />);
    </script>
</body>
</html>