<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heart Care</title>

    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>

</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        // Destructure Globals
        const { useState, useEffect, useRef } = React;
        const { motion } = window.Motion; 

        function Navbar() {
            return (
                <nav className="nav">
                    <div className="logo">
                        <img src="./img/logo.jpg" className="customclass-logo"/>
                    </div>
                    <ul>
                        <li><a href="./index.html">Home</a></li>
                        <li>Services</li>
                        <li><a href="./Form.html">Medics</a></li>
                        <li>About</li>
                        <li className="btn"><a href="./Form.html">Login</a></li>
                    </ul>
                </nav>
            );
        }

        function Banner() {
            const vantaRef = useRef(null);
            const [vantaEffect, setVantaEffect] = useState(null);

            useEffect(() => {
                if (!vantaEffect && window.VANTA) {
                    setVantaEffect(
                        window.VANTA.NET({
                            el: vantaRef.current,
                            mouseControls: true,
                            touchControls: true,
                            gyroControls: false,
                            color: 0x3b82f6,
                            backgroundColor: 0x1f0a12,
                            points: 12.0,
                            maxDistance: 22.0,
                            spacing: 18.0,
                        })
                    );
                }
                return () => {
                    if (vantaEffect) vantaEffect.destroy();
                };
            }, [vantaEffect]);

            return (
                <section className="banner" ref={vantaRef}>
                    <div className="banner-text">
                        <h1>TAKE CARE OF YOUR HEART</h1>
                        <h2>with Intelligent Health Solutions</h2>
                        <p>Revolutionizing cardiac health through intelligent risk forecasting and personalized preventive care</p>
                        <button>About Us</button>
                    </div>
                </section>
            );
        }

        function Challenges() {
            const spotlightRef = React.useRef(null);
            const sliderRef = React.useRef(null);
            const [activeId, setActiveId] = React.useState(1); // Start with first item active

            const challengesData = [
                { id: 1, title: "Rising Global Prevalence", text: "Cardiovascular diseases remain the leading global cause of mortality, exacerbated by aging populations and the rising incidence of metabolic syndrome." },
                { id: 2, title: "Subclinical Progression", text: "Atherosclerosis often develops silently over decades. Standard screenings frequently fail to detect biomarkers before an acute cardiac event occurs." },
                { id: 3, title: "Fragmented Health Data", text: "Critical patient data is siloed across Electronic Medical Records (EMRs), wearables, and genetic profiles, preventing a holistic view of patient risk." },
                { id: 4, title: "Socioeconomic Disparities", text: "High costs and geographic barriers limit access to advanced preventive care, disproportionately affecting rural and underserved urban communities." },
                { id: 5, title: "Diagnostic Latency", text: "The time gap between symptom onset and clinical diagnosis remains too wide, often resulting in irreversible myocardial damage before treatment begins." },
                { id: 6, title: "Demographic Misdiagnosis", text: "Cardiac symptoms in women and younger demographics are frequently atypical, leading to high rates of misdiagnosis and missed intervention windows." },
                { id: 7, title: "Clinical Resource Strain", text: "A global shortage of cardiologists and overwhelmed healthcare systems reduce the time available for in-depth preventative patient counseling." },
                { id: 8, title: "Adherence Failure", text: "Long-term patient compliance with medication and lifestyle changes is historically low due to a lack of continuous, personalized behavioral reinforcement." }
            ];

            // Spotlight Logic
            const handleMouseMove = (e) => {
                const rect = e.currentTarget.getBoundingClientRect();
                if (spotlightRef.current) {
                    spotlightRef.current.style.left = (e.clientX - rect.left) + "px";
                    spotlightRef.current.style.top = (e.clientY - rect.top) + "px";
                }
            };
            const handleMouseEnter = () => { if (spotlightRef.current) spotlightRef.current.style.display = "block"; };
            const handleMouseLeave = () => { if (spotlightRef.current) spotlightRef.current.style.display = "none"; };

            // Scroll Handler to detect Active Center Item
            const handleScroll = () => {
                if (sliderRef.current) {
                    const slider = sliderRef.current;
                    const cardWidth = 320; 
                    const gap = 30;
                    const totalItemWidth = cardWidth + gap;
                    
                    // Calculate index based on scroll position
                    const scrollLeft = slider.scrollLeft;
                    const centerIndex = Math.round(scrollLeft / totalItemWidth);
                    
                    // Update active ID based on index
                    if (challengesData[centerIndex]) {
                        setActiveId(challengesData[centerIndex].id);
                    }
                }
            };

            // Navigation Buttons
            const slide = (direction) => {
                if (sliderRef.current) {
                    const scrollAmount = 350; // 320 width + 30 gap
                    sliderRef.current.scrollBy({
                        left: direction === 'left' ? -scrollAmount : scrollAmount,
                        behavior: 'smooth'
                    });
                }
            };

            return (
                <section
                    className="challenges spotlight-wrapper"
                    onMouseMove={handleMouseMove}
                    onMouseEnter={handleMouseEnter}
                    onMouseLeave={handleMouseLeave}
                >
                    <div className="spotlight" ref={spotlightRef}></div>

                    <div className="container">
                        <h2 className="roadmap-title">Current Challenges</h2>
                        <p className="sub-p">Heart disease remains the leading cause of death globally, with millions at risk.</p>
                        
                        <div className="slider-controls">
                            <button className="slider-btn prev" onClick={() => slide('left')}>&#8592;</button>
                            <button className="slider-btn next" onClick={() => slide('right')}>&#8594;</button>
                        </div>

                        {/* Added onScroll Listener */}
                        <div className="slider-wrapper" ref={sliderRef} onScroll={handleScroll}>
                            {challengesData.map((item) => (
                                <div 
                                    className={`card ${item.id === activeId ? "active" : ""}`} 
                                    key={item.id}
                                >
                                    <span className="top"></span>
                                    <span className="right"></span>
                                    <span className="bottom"></span>
                                    <span className="left"></span>
                                    <h3>{item.title}</h3>
                                    <p>{item.text}</p>
                                </div>
                            ))}
                        </div>
                    </div>
                </section>
            );
        }
        function HeartCrisisSection() {
            const [todayDeaths, setTodayDeaths] = React.useState(25000); // Start mid-day for visual impact

            // WHO Data: ~17.9M - 19.8M deaths/year globally
            // Approx 0.63 deaths per second
            const deathsPerSecond = 0.63;

            React.useEffect(() => {
                const interval = setInterval(() => {
                    setTodayDeaths(prev => prev + deathsPerSecond);
                }, 1000);
                return () => clearInterval(interval);
            }, []);

            return (
                <section className="crisis-section">
                    {/* Background ECG Pulse Animation */}
                    <div className="ecg-bg">
                        <svg viewBox="0 0 500 150" preserveAspectRatio="none">
                            <path d="M0,75 L50,75 L60,40 L70,110 L80,75 L130,75 L140,20 L150,130 L160,75 L500,75" 
                                className="ecg-line" />
                        </svg>
                    </div>

                    <div className="crisis-container">
                        <div className="crisis-header">
                            <h2 className="roadmap-title">The Silent Epidemic</h2> 
                            <p>Cardiovascular disease claims more lives annually than all forms of cancer combined.</p>
                        </div>

                        {/* Real-time Counter Block */}
                        <div className="counter-row">
                            <div className="counter-box">
                                <div className="live-indicator">
                                    <span className="blink-dot"></span> LIVE ESTIMATE
                                </div>
                                <span className="count-number">
                                    {Math.floor(todayDeaths).toLocaleString()}
                                </span>
                                <span className="count-label">Global Deaths Today</span>
                            </div>
                            
                           
                        </div>

                        {/* Detailed Stats Grid */}
                        <div className="ring-stats">
                            <div className="stat-card">
                                <Ring value={80} label="Premature Heart Attacks" color="#f87171" />
                                <p className="stat-desc"><strong>Preventable</strong> through early risk detection and lifestyle changes.</p>
                            </div>
                            <div className="stat-card">
                                <Ring value={60} label="Silent Progression" color="#3b82f6" />
                                <p className="stat-desc">Cases show <strong>no symptoms</strong> before the first acute cardiac event.</p>
                            </div>
                            <div className="stat-card">
                                <Ring value={47} label="Out-of-Hospital Deaths" color="#fbbf24" />
                                <p className="stat-desc">Sudden cardiac arrests occurring <strong>without medical aid</strong> nearby.</p>
                            </div>
                        </div>
                    </div>
                </section>
            );
        }

        /* Ring Component */
        function Ring({ value, label, color }) {
            return (
                <div className="ring">
                    <svg width="140" height="140">
                        <circle
                            cx="70"
                            cy="70"
                            r="60"
                            stroke="rgba(255,255,255,0.1)"
                            strokeWidth="10"
                            fill="none"
                        />
                        <circle
                            cx="70"
                            cy="70"
                            r="60"
                            stroke={color}
                            strokeWidth="10"
                            fill="none"
                            strokeDasharray={377}
                            strokeDashoffset={377 - (377 * value) / 100}
                            strokeLinecap="round"
                        />
                    </svg>
                    <div className="ring-text">
                        <strong>{value}%</strong>
                        <span>{label}</span>
                    </div>
                </div>
            );
        }

        function SolutionSection() {
            const steps = [
                { title: "Simple Data Input", text: "Users enter lifestyle and medical factors through an intuitive interface." },
                { title: "AI Risk Analysis", text: "Advanced AI models analyze patterns and predict heart-attack risk in real time." },
                { title: "Personalized Recommendation", text: "Actionable prevention strategies tailored to individual risk profiles." }
            ];

            const [activeStep, setActiveStep] = useState(0);

            useEffect(() => {
                const timer = setInterval(() => {
                    setActiveStep(s => (s + 1) % steps.length);
                }, 3500);
                return () => clearInterval(timer);
            }, []);

            return (
                <section className="solution-section">
                    <div className="solution-left">
                        <h2 className="roadmap-title">Our Solution</h2>  
                        <h3>{steps[activeStep].title}</h3>
                        <p>{steps[activeStep].text}</p>
                        <div className="step-dots">
                            {steps.map((_, i) => (
                                <span key={i} className={i === activeStep ? "active" : ""}></span>
                            ))}
                        </div>
                    </div>
                    <HeartVisualization stage={activeStep} />
                </section>
            );
        }

        function HeartVisualization({ stage }) {
            // Placeholder for image logic. Ensure banner2.png exists in your folder.
            return (
                <div className={`heart-container stage-${stage}`}>
                    <div className="heart-wrapper">
                        {/* Using a placeholder color block if image fails. 
                          Replace 'src' with valid path 
                        */}
                         <img 
                            src="./img/banner2.png" 
                            className="wid-img" 
                            alt="Heart Visual"
                            style={{ maxWidth: '100%', animation: 'beat 1.8s infinite' }}
                            onError={(e) => {e.target.style.display='none'}}
                         />
                    </div>
                </div>
            );
        }

        function ProductRoadmap() {
            const steps = [
                { num: "Phase 1", year: "2025", title: "Data Collection & Core Model", desc: "We train our machine learning model using the available heart-health dataset. Data is cleaned, features are selected, and the model learns patterns that indicate heart attack risk.", position: "peak" },
                { num: "Phase 2", year: "2025", title: "Model Refinement & Accuracy", desc: "We evaluate the model using a 70–30 train-test split to measure accuracy, precision, and overall performance. This ensures the model works well on unseen data.", position: "trough", customClass: "abc-x" },
                { num: "Phase 3", year: "2025", title: "Frontend & Backend Development", desc: "We build the user interface for taking input values and a backend API that sends this data to the trained model and returns the risk prediction.", position: "peak", customClass: "abc-y" },
                { num: "Phase 4", year: "2025", title: "Deployment", desc: "The complete web application is deployed using Railway.app or GitHub, making it accessible online with continuous deployment support.", position: "trough", customClass: "abc-z" },
                { num: "Phase 5", year: "2026", title: "Continuous Evolution and Improvement", desc: "We monitor performance, gather feedback, retrain the model with new data, and enhance UI/UX to improve prediction accuracy over time.", position: "peak", customClass: "abc-zap" }
            ];

            return (
                <section className="roadmap-section">
                <div className="roadmap-header">
                    <h2 className="roadmap-title">Product Roadmap</h2>
                    <p>Our journey to revolutionizing cardiac health.</p>
                </div>

                <div className="roadmap-container">
                    {/* The Glowing Wave SVG Background */}
                    <div className="wave-bg">
                    <svg viewBox="0 0 1200 250" preserveAspectRatio="none">
                        <defs>
                        <linearGradient id="waveGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" stopColor="#db2777" /> {/* Pink */}
                            <stop offset="50%" stopColor="#7c3aed" /> {/* Purple */}
                            <stop offset="100%" stopColor="#ea580c" /> {/* Orange */}
                        </linearGradient>
                        <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
                            <feGaussianBlur stdDeviation="5" result="coloredBlur" />
                            <feMerge>
                            <feMergeNode in="coloredBlur" />
                            <feMergeNode in="SourceGraphic" />
                            </feMerge>
                        </filter>
                        </defs>
                        {/* The Wave Path */}
                        <path 
                        d="M0,150 C200,50 400,250 600,150 S1000,50 1200,150" 
                        fill="none" 
                        stroke="url(#waveGradient)" 
                        strokeWidth="6"
                        filter="url(#glow)"
                        />
                    </svg>
                    </div>

                    {/* The Timeline Items */}
                    <div className="roadmap-items">
                    {steps.map((step, i) => (
                        <div key={i} className={`rm-item ${step.position} ${step.customClass || ""}`}>
                        <div className="rm-content">
                            <span className="rm-date">{step.num} <strong>{step.year}</strong></span>
                            <h3>{step.title}</h3>
                            <p>{step.desc}</p>
                        </div>
                        <div class="flex-con"> 
                            {/* Vertical Connector Line */}
                             <div className="rm-connector"></div>
                        
                            {/* Glowing Dot on the Wave */}
                            <div className="rm-dot">
                                <div className="dot-inner"></div>
                            </div>
                        </div>
                       
                        </div>
                    ))}
                    </div>
                </div>
                </section>
            );
        }

        function AIInsightsSection() {
            const { motion } = window.Motion; // Using the global Framer Motion variable

            // Combined data with specific theme colors matching your reference image
            const insightsData = [
                {
                id: "01",
                title: "Pattern Recognition",
                text: "AI identifies complex relationships between lifestyle factors, medical history, and cardiac risk that human analysis might miss.",
                color: "#f97316", // Orange
                align: "left"
                },
                {
                id: "02",
                title: "Predictive Modeling",
                text: "Machine learning algorithms forecast future heart-attack likelihood with high accuracy based on individual health profiles.",
                color: "#a855f7", // Purple
                align: "right"
                },
                {
                id: "03",
                title: "Hidden Risk Factors",
                text: "Deep learning discovers subtle patterns and correlations in user data that indicate elevated cardiac risk.",
                color: "#cbd5e1", // Silver/Blue
                align: "left"
                },
                {
                id: "04",
                title: "Personalization at Scale",
                text: "AI delivers customized recommendations for millions of users simultaneously, tailored to their unique circumstances.",
                color: "#14b8a6", // Teal
                align: "right"
                },
                {
                id: "05",
                title: "Continuous Improvement",
                text: "Models automatically improve as they process more data, becoming increasingly accurate and valuable over time.",
                color: "#ef4444", // Red (HeartGuard Brand)
                align: "left"
                }
            ];

            return (
                <section className="pill-section">
                <div className="pill-container">
                    <div className="header-center">
                        <h2 className="roadmap-title">Power of AI in Cardiac Health</h2> 
                        <div className="ai-title-bar center-bar"></div>
                    </div>

                    <div className="pill-stack">
                    {insightsData.map((item, index) => (
                        <motion.div 
                        key={index}
                        className={`pill-card ${item.align === "right" ? "reverse" : ""}`}
                        style={{ "--theme-color": item.color }}
                        initial={{ opacity: 0, x: item.align === "left" ? -100 : 100 }}
                        whileInView={{ opacity: 1, x: 0 }}
                        transition={{ duration: 0.6, delay: index * 0.1 }}
                        viewport={{ once: true }}
                        whileHover={{ scale: 1.02, boxShadow: `0 0 20px ${item.color}40` }}
                        >
                        {/* Number Circle */}
                        <div className="pill-number">
                            <span>{item.id}</span>
                        </div>

                        {/* Text Content */}
                        <div className="pill-content">
                            <h3 style={{ color: item.color }}>{item.title}</h3>
                            <p>{item.text}</p>
                        </div>
                        </motion.div>
                    ))}
                    </div>
                </div>
                </section>
            );
        }

       function Footer() {
        // 1. Initialize Refs and State for Vanta
            const footerRef = React.useRef(null);
            const [vantaEffect, setVantaEffect] = React.useState(null);

            // 2. Trigger the Effect
            React.useEffect(() => {
                if (!vantaEffect && window.VANTA) {
                    setVantaEffect(
                        window.VANTA.NET({
                            el: footerRef.current,
                            mouseControls: true,
                            touchControls: true,
                            gyroControls: false,
                            minHeight: 200.00,
                            minWidth: 200.00,
                            scale: 1.00,
                            scaleMobile: 1.00,
                            color: 0x3b82f6,       // Same blue as Banner
                            backgroundColor: 0x1f0a12, // Same dark bg as Banner
                            points: 12.0,
                            maxDistance: 22.0,
                            spacing: 18.0,
                        })
                    );
                }
                // Cleanup on unmount
                return () => {
                    if (vantaEffect) vantaEffect.destroy();
                };
            }, [vantaEffect]);

            return (
                <footer className="footer-section" ref={footerRef}>
                    
                    <div className="footer-content">
                        <div className="footer-links">
                            <div className="brand-block">
                                <img src="./img/logo.jpg" class="customclass-logo"/>  
                            </div>
                            <div className="link-row">
                                <span>Universität Paderborn</span>
                                <span>Warburger Straße 100</span>
                                <span>33098, Paderborn Germany</span>
                            </div>
                        </div>
                         
                    </div>
                </footer>
            );
        }


        function App() {
            return (
                <React.Fragment>
                    <Navbar />
                    <Banner />
                    <Challenges />
                    <HeartCrisisSection /> 
                    <SolutionSection />
                    <ProductRoadmap />
                    <AIInsightsSection />
                    <Footer />
                </React.Fragment>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById("root"));
        root.render(<App />);
    </script>
</body>
</html>